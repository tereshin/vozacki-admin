# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Vozacki Admin

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é –ø–∏—Ä–∞–º–∏–¥—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```
    /\     E2E Tests (Playwright) - –ü–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
   /  \    ~~~~~~~~~~~~~~~~
  /____\   Integration Tests (Vitest + Testing Library) - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + API
 /______\  Unit Tests (Vitest) - –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ composables
/__________\
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ unit/                    # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ composables/         # –¢–µ—Å—Ç—ã –∫–æ–º–ø–æ–∑–∞–±–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ utils/              # –¢–µ—Å—Ç—ã —É—Ç–∏–ª–∏—Ç
‚îÇ   ‚îî‚îÄ‚îÄ stores/             # –¢–µ—Å—Ç—ã Pinia stores
‚îú‚îÄ‚îÄ integration/            # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ components/         # –¢–µ—Å—Ç—ã Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ pages/              # –¢–µ—Å—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü
‚îú‚îÄ‚îÄ e2e/                    # E2E —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ auth.spec.ts        # –¢–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ articles.spec.ts    # –¢–µ—Å—Ç—ã —Å—Ç–∞—Ç–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ tests.spec.ts       # –¢–µ—Å—Ç—ã —ç–∫–∑–∞–º–µ–Ω–æ–≤
‚îú‚îÄ‚îÄ fixtures/               # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ mocks/                  # –ú–æ–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
‚îî‚îÄ‚îÄ setup/                  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### Unit & Integration —Ç–µ—Å—Ç—ã (Vitest)
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
npm run test

# –ó–∞–ø—É—Å–∫ —Å UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
npm run test:ui

# –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫
npm run test:run

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
npm run test:coverage
```

### E2E —Ç–µ—Å—Ç—ã (Playwright)
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤ (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —Ä–∞–∑)
npm run test:e2e:install

# –ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤
npm run test:e2e

# –ó–∞–ø—É—Å–∫ —Å UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
npm run test:e2e:ui
```

## üéØ –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - –≤—Ö–æ–¥/–≤—ã—Ö–æ–¥, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ
- ‚úÖ **–†–æ—É—Ç–∏–Ω–≥** - –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è, –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
- üîÑ **Composables** - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ª–æ–≥–∏–∫–∞
- üîÑ **Stores (Pinia)** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- üîÑ **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å backend

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
- üîÑ **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- üîÑ **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –ø–µ—Ä–µ–≤–æ–¥—ã

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è

### –¶–µ–ª–∏:
- **Unit Tests**: 80%+ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
- **Integration Tests**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- **E2E Tests**: –û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã

### –¢–µ–∫—É—â–∏–µ –ø–æ—Ä–æ–≥–∏ –≤ vitest.config.ts:
```typescript
thresholds: {
  global: {
    branches: 70,
    functions: 70,
    lines: 70,
    statements: 70
  }
}
```

## üõ†Ô∏è –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

### Unit Test –ø—Ä–∏–º–µ—Ä:
```typescript
import { describe, it, expect, vi } from 'vitest'
import { useAuthApi } from '~/composables/api/useAuthApi'

describe('useAuthApi', () => {
  it('should login successfully', async () => {
    vi.mocked($fetch).mockResolvedValue({ user: mockUser })
    
    const { login } = useAuthApi()
    const result = await login('test@example.com', 'password')
    
    expect(result.user.email).toBe('test@example.com')
  })
})
```

### E2E Test –ø—Ä–∏–º–µ—Ä:
```typescript
import { test, expect } from '@playwright/test'

test('should login and redirect to dashboard', async ({ page }) => {
  await page.goto('/login')
  await page.fill('input[type="email"]', 'demo@vozacki.rs')
  await page.fill('input[type="password"]', 'password')
  await page.click('button[type="submit"]')
  
  await expect(page).toHaveURL('/dashboard')
})
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD

–¢–µ—Å—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤ GitHub Actions:

```yaml
- name: Run Unit Tests
  run: npm run test:run

- name: Run E2E Tests  
  run: npm run test:e2e
```

## üêõ –û—Ç–ª–∞–¥–∫–∞ —Ç–µ—Å—Ç–æ–≤

### Vitest:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `console.log()` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ `npm run test:ui` –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.only()` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞

### Playwright:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `await page.pause()` –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Å `--debug` –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--headed` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±—Ä–∞—É–∑–µ—Ä–∞

## üìù –°–æ–≥–ª–∞—à–µ–Ω–∏—è

1. **–ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤**: `*.test.ts` –¥–ª—è unit/integration, `*.spec.ts` –¥–ª—è E2E
2. **–û–ø–∏—Å–∞–Ω–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `describe()` –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
3. **–ú–æ–∫–∏**: –†–∞–∑–º–µ—â–∞–π—Ç–µ –≤ –ø–∞–ø–∫–µ `mocks/`, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ `setup/`
4. **–§–∏–∫—Å—Ç—É—Ä—ã**: –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ `fixtures/`
5. **–°–µ–ª–µ–∫—Ç–æ—Ä—ã**: –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ `data-testid` –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ** –ø–∞–¥–∞—é—â–∏–µ —Ç–µ—Å—Ç—ã
2. **–û—á–∏—â–∞–π—Ç–µ –º–æ–∫–∏** –≤ `beforeEach()`
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∏–ø—ã** TypeScript –≤–µ–∑–¥–µ
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏** –∏ –æ—à–∏–±–∫–∏
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ —Ç–µ—Å—Ç—ã** –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ 